{"ast":null,"code":"import _classCallCheck from\"/home/irina-sakhno/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/irina-sakhno/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Auth=/*#__PURE__*/function(){function Auth(options){var _this=this;_classCallCheck(this,Auth);this.registerNewUser=function(_ref){var email=_ref.email,password=_ref.password;return fetch(\"\".concat(_this.baseUrl,\"/signup\"),{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})}).then(_this._getResponseData);};this.authorizeExistingUser=function(_ref2){var email=_ref2.email,password=_ref2.password;return fetch(\"\".concat(_this.baseUrl,\"/signin\"),{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})}).then(_this._getResponseData);};this.checkToken=function(token){return fetch(\"\".concat(_this.baseUrl,\"/users/me\"),{method:\"GET\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)}}).then(_this._getResponseData);};this.baseUrl=options.baseUrl;}_createClass(Auth,[{key:\"_getResponseData\",value:function _getResponseData(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}}]);return Auth;}();var auth=new Auth({baseUrl:\"https://auth.nomoreparties.co\"});export default auth;","map":{"version":3,"names":["Auth","options","_this","_classCallCheck","registerNewUser","_ref","email","password","fetch","concat","baseUrl","method","headers","Accept","body","JSON","stringify","then","_getResponseData","authorizeExistingUser","_ref2","checkToken","token","Authorization","_createClass","key","value","res","ok","json","Promise","reject","status","auth"],"sources":["/home/irina-sakhno/react-mesto-api-full-gha/frontend/src/utils/auth.js"],"sourcesContent":["class Auth {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n  }\n\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  registerNewUser = ({ email, password }) => {\n    return fetch(`${this.baseUrl}/signup`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ email, password }),\n    }).then(this._getResponseData);\n  };\n\n  authorizeExistingUser = ({ email, password }) => {\n    return fetch(`${this.baseUrl}/signin`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ email, password }),\n    }).then(this._getResponseData);\n  };\n\n  checkToken = (token) => {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    }).then(this._getResponseData);\n  };\n}\n\nconst auth = new Auth({\n  baseUrl: \"https://auth.nomoreparties.co\",\n});\n\nexport default auth;\n"],"mappings":"qRAAM,CAAAA,IAAI,yBACR,SAAAA,KAAYC,OAAO,CAAE,KAAAC,KAAA,MAAAC,eAAA,MAAAH,IAAA,OAWrBI,eAAe,CAAG,SAAAC,IAAA,CAAyB,IAAtB,CAAAC,KAAK,CAAAD,IAAA,CAALC,KAAK,CAAEC,QAAQ,CAAAF,IAAA,CAARE,QAAQ,CAClC,MAAO,CAAAC,KAAK,IAAAC,MAAA,CAAIP,KAAI,CAACQ,OAAO,YAAW,CACrCC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACPC,MAAM,CAAE,kBAAkB,CAC1B,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEV,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAS,CAAC,CAC1C,CAAC,CAAC,CAACU,IAAI,CAACf,KAAI,CAACgB,gBAAgB,CAAC,CAChC,CAAC,MAEDC,qBAAqB,CAAG,SAAAC,KAAA,CAAyB,IAAtB,CAAAd,KAAK,CAAAc,KAAA,CAALd,KAAK,CAAEC,QAAQ,CAAAa,KAAA,CAARb,QAAQ,CACxC,MAAO,CAAAC,KAAK,IAAAC,MAAA,CAAIP,KAAI,CAACQ,OAAO,YAAW,CACrCC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACPC,MAAM,CAAE,kBAAkB,CAC1B,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEV,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAS,CAAC,CAC1C,CAAC,CAAC,CAACU,IAAI,CAACf,KAAI,CAACgB,gBAAgB,CAAC,CAChC,CAAC,MAEDG,UAAU,CAAG,SAACC,KAAK,CAAK,CACtB,MAAO,CAAAd,KAAK,IAAAC,MAAA,CAAIP,KAAI,CAACQ,OAAO,cAAa,CACvCC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACPC,MAAM,CAAE,kBAAkB,CAC1B,cAAc,CAAE,kBAAkB,CAClCU,aAAa,WAAAd,MAAA,CAAYa,KAAK,CAChC,CACF,CAAC,CAAC,CAACL,IAAI,CAACf,KAAI,CAACgB,gBAAgB,CAAC,CAChC,CAAC,CAzCC,IAAI,CAACR,OAAO,CAAGT,OAAO,CAACS,OAAO,CAChC,CAACc,YAAA,CAAAxB,IAAA,GAAAyB,GAAA,oBAAAC,KAAA,CAED,SAAAR,iBAAiBS,GAAG,CAAE,CACpB,GAAIA,GAAG,CAACC,EAAE,CAAE,CACV,MAAO,CAAAD,GAAG,CAACE,IAAI,CAAC,CAAC,CACnB,CACA,MAAO,CAAAC,OAAO,CAACC,MAAM,0CAAAtB,MAAA,CAAYkB,GAAG,CAACK,MAAM,CAAE,CAAC,CAChD,CAAC,WAAAhC,IAAA,KAoCH,GAAM,CAAAiC,IAAI,CAAG,GAAI,CAAAjC,IAAI,CAAC,CACpBU,OAAO,CAAE,+BACX,CAAC,CAAC,CAEF,cAAe,CAAAuB,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}